<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>After Wes</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="icon" type="image/x-icon" href="images/After Wes - main.ico">
</head>
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const sections = document.querySelectorAll("section");
    const navLinks = document.querySelectorAll(".menu-links a");
    const header = document.querySelector("header");

    // Recalculate padding for only the first section
    function updateTopPadding() {
      const headerHeight = header.offsetHeight;
      sections.forEach((section, index) => {
        section.style.paddingTop = index === 0 ? `${headerHeight + 20}px` : "100px";
      });
    }

    // Scroll to section with header offset
    navLinks.forEach(link => {
      link.addEventListener("click", function (e) {
        e.preventDefault();
        const targetId = this.getAttribute("href").slice(1);
        const targetSection = document.getElementById(targetId);
        const headerHeight = header.offsetHeight;

        // Scroll to correct spot
        window.scrollTo({
          top: targetSection.offsetTop - headerHeight + 100,
          behavior: "smooth"
        });
      });
    });

    // Update active dot based on scroll position
    function updateActiveDot() {
      const scrollPos = window.scrollY + header.offsetHeight - 20;

      sections.forEach(section => {
        const sectionTop = section.offsetTop;
        const sectionBottom = sectionTop + section.offsetHeight;
        const sectionId = section.getAttribute("id");

        if (scrollPos >= sectionTop && scrollPos < sectionBottom) {
          navLinks.forEach(link => {
            link.classList.remove("active");
            if (link.getAttribute("href").includes(sectionId)) {
              link.classList.add("active");
            }
          });
        }
      });
    }

    // Initial call and event bindings
    updateTopPadding();
    updateActiveDot();

    window.addEventListener("resize", updateTopPadding);
    window.addEventListener("scroll", updateActiveDot);
  });
</script>
<body>
    <header id="main-header">
        <div class="logo prompt-thin-italic" style="color: black;">After Wes</div>
        <nav class="nav-bar">
          <ul class="menu-links">
            <li><a href="#home" class="active prompt-extralight-italic">home</a></li>
            <li><a href="#shows" class="prompt-extralight-italic">shows</a></li>
            <li><a href="#music" class="prompt-extralight-italic">music</a></li>
            <li><a href="#signup" class="prompt-extralight-italic">sign up</a></li>
          </ul>
          <div class="social-icons">
            <a href="https://instagram.com/afterwesmusic" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
            <a href="https://www.tiktok.com/@afterwesmusic" target="_blank" aria-label="TikTok"><i class="fab fa-tiktok"></i></a>
            <a href="https://www.youtube.com/@afterwesmusic" target="_blank" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
            <a href="mailto:afterwesmusic@gmail.com" aria-label="Email"><i class="fas fa-envelope"></i></a>
          </div>
        </nav>
    </header>
    <section id="home" class="prompt-regular-italic">
      <div class="news-feed">
        <div class="news-card">
          <h2 class="news-title">pre-save way out west to listen before release</h2>
          <a href="https://ps.tribly.fm/pwv3m3o" target="_blank">
            <img src="images/wayoutwest_artwork.jpg" alt="way out west">
<!-- <iframe width="100%" height="315" src="https://www.youtube.com/embed/8i29E2H59aU?si=odI91RXQVrqhrLz9" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe> -->
          </a>
        </div>
      </div>
    </section>
    <section id="shows" class="prompt-regular-italic">
        <div class="section-title-wrapper">
          <div class="section-title">shows</div>
        </div>
      <div class="shows-list">
        </div>
      </div>
    </section>
    <section id="music" class="prompt-regular-italic">
        <div class="section-title-wrapper">
        <div class="section-title">music</div>
        <div class="music-scroll-container">
          <a href="https://too.fm/vvjb8e5" class="music-card" target="_blank">
            <img src="images/giveitup_artwork.png" alt="give it up">
            <p class="song-title">give it up</p>
          </a>
          <a href="https://too.fm/7k5pkzx" class="music-card" target="_blank">
            <img src="images/bangkok_artwork.jpg" alt="bangkok">
            <p class="song-title">bangkok</p>
          </a>
          <a href="https://lnk.dmsmusic.co/afterwes_whenilookatu" class="music-card" target="_blank">
            <img src="images/whenilookatu_artwork.jpg" alt="when i look at u">
            <p class="song-title">when i look at u</p>
          </a>
        </div>
        <div class="music-icons">
          <a href="https://open.spotify.com/artist/5hz6UPteQqCf9fHD88njIy?si=PazW84IDQCy8fboWmRuazQ" target="_blank" aria-label="Spotify"><i class="fab fa-spotify"></i></a>
          <a href="https://afterwes.bandcamp.com/" target="_blank" aria-label="Bandcamp"><i class="fab fa-bandcamp"></i></a>
          <a href="https://soundcloud.com/afterwesmusic" target="_blank" aria-label="SoundCloud"><i class="fab fa-soundcloud"></i></a>
        </div>
        <p class="music-note">all After Wes music is free for download on Bandcamp</p>
    </div>
    </section>

    <section id="signup" class="prompt-regular-italic">
      <div class="section-title-wrapper">
        <div class="section-title">sign up</div>
      </div>
      <div class="signup-wrapper">
        <iframe
          src="https://laylo.com/after-wes/profile/embed?theme=dark"
          class="signup-iframe"
          frameborder="0"
          scrolling="no"
          allowtransparency="true">
        </iframe>
      </div>
    </section>
</section>
<!-- 
    <script>
        const sections = document.querySelectorAll('section');
        const navLinks = document.querySelectorAll('nav a');

        window.addEventListener('scroll', () => {
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop - 120;
                if (pageYOffset >= sectionTop) {
                    current = section.getAttribute('id');
                }
            });

            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href').includes(current)) {
                    link.classList.add('active');
                }
            });
        });
    </script> -->
    <script>
      function adjustSectionPadding() {
        const header = document.getElementById('main-header');
        const headerHeight = header.offsetHeight;
        const sections = document.querySelectorAll('section');

        sections.forEach(section => {
          section.style.paddingTop = `${headerHeight + 20}px`; // 20px gap below header
        });
      }

      // Run on load and resize
      window.addEventListener('load', adjustSectionPadding);
      window.addEventListener('resize', adjustSectionPadding);
    </script>
</body>
</html>